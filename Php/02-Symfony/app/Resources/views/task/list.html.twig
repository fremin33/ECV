{% extends 'base.html.twig' %}

{% block body %}
    {% if tasks is empty %}
        <div class="jumbotron">
          <h1 class="display-4 text-center">Congratulations!</h1>
          <p class="lead text-center">You've made it, now it's time to have fun <br><i class="mt-3 fas fa-grin-beam fa-10x"></i></p>
        </div>         
    {% endif %}
    <ul id="sortable" class="list-group list-group-flush">
        {% for task in tasks %}
            <li class="list-group-item  d-flex justify-content-between {{ task.complete  ? 'list-group-item-success' }}" data-url={{ path('task_update_position', {'id': task.id}|escape('js') ) }}>
                <div class="d-flex flex-column">
                    <h2>{{ task.title }} <span class="badge badge-primary badge-pill">{{ task.author.name }}</span></h2>
                    <p>{{ task.description }}</p>
                </div>
                
                <div class="d-flex flex-column">
                    <a class="btn btn-success" href="{{ path('task_update', {'id': task.id}) }}"><i class="fas fa-check fa-2x"></i></a>
                    <a class="btn btn-danger mt-3" href="{{ path('task_delete', {'id': task.id}) }}"><i class="fas fa-trash-alt fa-2x"></i></a>
                </div>
            </li>
        {% endfor %}
    </ul>
{% endblock %}